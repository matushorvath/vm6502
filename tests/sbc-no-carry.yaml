desc: SBC, no carry
tests:
  - desc: SBC no carry; 00 - 00 -> ff
    setup:
      mem:
        0x0000: |
          LDA #$00
          SBC #$00
          .byte $02
    check:
      a: 0xff
      negative: true

  - desc: SBC no carry; 42 - 00 -> 41
    setup:
      mem:
        0x0000: |
          LDA #$42
          SBC #$00
          .byte $02
    check:
      a: 0x41
      carry: true

  - desc: SBC no carry; 7f - 00 -> 7e
    setup:
      mem:
        0x0000: |
          LDA #$7f
          SBC #$00
          .byte $02
    check:
      a: 0x7e
      carry: true

  - desc: SBC no carry; 80 - 00 -> 7f
    setup:
      mem:
        0x0000: |
          LDA #$80
          SBC #$00
          .byte $02
    check:
      a: 0x7f
      overflow: true
      carry: true

  - desc: SBC no carry; b6 - 00 -> b5
    setup:
      mem:
        0x0000: |
          LDA #$b6
          SBC #$00
          .byte $02
    check:
      a: 0xb5
      negative: true
      carry: true

  - desc: SBC no carry; ff - 00 -> fe
    setup:
      mem:
        0x0000: |
          LDA #$ff
          SBC #$00
          .byte $02
    check:
      a: 0xfe
      negative: true
      carry: true

  - desc: SBC no carry; 42 - 42 -> ff
    setup:
      mem:
        0x0000: |
          LDA #$42
          SBC #$42
          .byte $02
    check:
      a: 0xff
      negative: true

  - desc: SBC no carry; 84 - 42 -> 41
    setup:
      mem:
        0x0000: |
          LDA #$84
          SBC #$42
          .byte $02
    check:
      a: 0x41
      overflow: true
      carry: true

  - desc: SBC no carry; c1 - 42 -> 7e
    setup:
      mem:
        0x0000: |
          LDA #$c1
          SBC #$42
          .byte $02
    check:
      a: 0x7e
      overflow: true
      carry: true

  - desc: SBC no carry; c2 - 42 -> 7f
    setup:
      mem:
        0x0000: |
          LDA #$c2
          SBC #$42
          .byte $02
    check:
      a: 0x7f
      overflow: true
      carry: true

  - desc: SBC no carry; f8 - 42 -> b5
    setup:
      mem:
        0x0000: |
          LDA #$f8
          SBC #$42
          .byte $02
    check:
      a: 0xb5
      negative: true
      carry: true

  - desc: SBC no carry; 41 - 42 -> fe
    setup:
      mem:
        0x0000: |
          LDA #$41
          SBC #$42
          .byte $02
    check:
      a: 0xfe
      negative: true

  - desc: SBC no carry; 7f - 7f -> ff
    setup:
      mem:
        0x0000: |
          LDA #$7f
          SBC #$7f
          .byte $02
    check:
      a: 0xff
      negative: true

  - desc: SBC no carry; c1 - 7f -> 41
    setup:
      mem:
        0x0000: |
          LDA #$c1
          SBC #$7f
          .byte $02
    check:
      a: 0x41
      overflow: true
      carry: true

  - desc: SBC no carry; fe - 7f -> 7e
    setup:
      mem:
        0x0000: |
          LDA #$fe
          SBC #$7f
          .byte $02
    check:
      a: 0x7e
      overflow: true
      carry: true

  - desc: SBC no carry; ff - 7f -> 7f
    setup:
      mem:
        0x0000: |
          LDA #$ff
          SBC #$7f
          .byte $02
    check:
      a: 0x7f
      overflow: true
      carry: true

  - desc: SBC no carry; 35 - 7f -> b5
    setup:
      mem:
        0x0000: |
          LDA #$35
          SBC #$7f
          .byte $02
    check:
      a: 0xb5
      negative: true

  - desc: SBC no carry; 7e - 7f -> fe
    setup:
      mem:
        0x0000: |
          LDA #$7e
          SBC #$7f
          .byte $02
    check:
      a: 0xfe
      negative: true

  - desc: SBC no carry; 80 - 80 -> ff
    setup:
      mem:
        0x0000: |
          LDA #$80
          SBC #$80
          .byte $02
    check:
      a: 0xff
      negative: true

  - desc: SBC no carry; c2 - 80 -> 41
    setup:
      mem:
        0x0000: |
          LDA #$c2
          SBC #$80
          .byte $02
    check:
      a: 0x41
      carry: true

  - desc: SBC no carry; ff - 80 -> 7e
    setup:
      mem:
        0x0000: |
          LDA #$ff
          SBC #$80
          .byte $02
    check:
      a: 0x7e
      carry: true

  - desc: SBC no carry; 00 - 80 -> 7f
    setup:
      mem:
        0x0000: |
          LDA #$00
          SBC #$80
          .byte $02
    check:
      a: 0x7f

  - desc: SBC no carry; 36 - 80 -> b5
    setup:
      mem:
        0x0000: |
          LDA #$36
          SBC #$80
          .byte $02
    check:
      a: 0xb5
      negative: true
      overflow: true

  - desc: SBC no carry; 7f - 80 -> fe
    setup:
      mem:
        0x0000: |
          LDA #$7f
          SBC #$80
          .byte $02
    check:
      a: 0xfe
      negative: true
      overflow: true

  - desc: SBC no carry; b6 - b6 -> ff
    setup:
      mem:
        0x0000: |
          LDA #$b6
          SBC #$b6
          .byte $02
    check:
      a: 0xff
      negative: true

  - desc: SBC no carry; f8 - b6 -> 41
    setup:
      mem:
        0x0000: |
          LDA #$f8
          SBC #$b6
          .byte $02
    check:
      a: 0x41
      carry: true

  - desc: SBC no carry; 35 - b6 -> 7e
    setup:
      mem:
        0x0000: |
          LDA #$35
          SBC #$b6
          .byte $02
    check:
      a: 0x7e

  - desc: SBC no carry; 36 - b6 -> 7f
    setup:
      mem:
        0x0000: |
          LDA #$36
          SBC #$b6
          .byte $02
    check:
      a: 0x7f

  - desc: SBC no carry; 6c - b6 -> b5
    setup:
      mem:
        0x0000: |
          LDA #$6c
          SBC #$b6
          .byte $02
    check:
      a: 0xb5
      negative: true
      overflow: true

  - desc: SBC no carry; b5 - b6 -> fe
    setup:
      mem:
        0x0000: |
          LDA #$b5
          SBC #$b6
          .byte $02
    check:
      a: 0xfe
      negative: true

  - desc: SBC no carry; ff - ff -> ff
    setup:
      mem:
        0x0000: |
          LDA #$ff
          SBC #$ff
          .byte $02
    check:
      a: 0xff
      negative: true

  - desc: SBC no carry; 41 - ff -> 41
    setup:
      mem:
        0x0000: |
          LDA #$41
          SBC #$ff
          .byte $02
    check:
      a: 0x41

  - desc: SBC no carry; 7e - ff -> 7e
    setup:
      mem:
        0x0000: |
          LDA #$7e
          SBC #$ff
          .byte $02
    check:
      a: 0x7e

  - desc: SBC no carry; 7f - ff -> 7f
    setup:
      mem:
        0x0000: |
          LDA #$7f
          SBC #$ff
          .byte $02
    check:
      a: 0x7f

  - desc: SBC no carry; b5 - ff -> b5
    setup:
      mem:
        0x0000: |
          LDA #$b5
          SBC #$ff
          .byte $02
    check:
      a: 0xb5
      negative: true

  - desc: SBC no carry; fe - ff -> fe
    setup:
      mem:
        0x0000: |
          LDA #$fe
          SBC #$ff
          .byte $02
    check:
      a: 0xfe
      negative: true

  - desc: SBC no carry; 00 - 40 -> bf
    setup:
      mem:
        0x0000: |
          LDA #$00
          SBC #$40
          .byte $02
    check:
      a: 0xbf
      negative: true

  - desc: SBC no carry; 00 - b0 -> 4f
    setup:
      mem:
        0x0000: |
          LDA #$00
          SBC #$b0
          .byte $02
    check:
      a: 0x4f

  - desc: SBC no carry; 00 - 7f -> 80
    setup:
      mem:
        0x0000: |
          LDA #$00
          SBC #$7f
          .byte $02
    check:
      a: 0x80
      negative: true

  - desc: SBC no carry; 42 - 12 -> 2f
    setup:
      mem:
        0x0000: |
          LDA #$42
          SBC #$12
          .byte $02
    check:
      a: 0x2f
      carry: true

  - desc: SBC no carry; 42 - f0 -> 51
    setup:
      mem:
        0x0000: |
          LDA #$42
          SBC #$f0
          .byte $02
    check:
      a: 0x51

  - desc: SBC no carry; 42 - 60 -> e1
    setup:
      mem:
        0x0000: |
          LDA #$42
          SBC #$60
          .byte $02
    check:
      a: 0xe1
      negative: true

  - desc: SBC no carry; 42 - a0 -> a1
    setup:
      mem:
        0x0000: |
          LDA #$42
          SBC #$a0
          .byte $02
    check:
      a: 0xa1
      negative: true
      overflow: true

  - desc: SBC no carry; 7f - 50 -> 2e
    setup:
      mem:
        0x0000: |
          LDA #$7f
          SBC #$50
          .byte $02
    check:
      a: 0x2e
      carry: true

  - desc: SBC no carry; 80 - 20 -> 5f
    setup:
      mem:
        0x0000: |
          LDA #$80
          SBC #$20
          .byte $02
    check:
      a: 0x5f
      overflow: true
      carry: true

  - desc: SBC no carry; 80 - 81 -> fe
    setup:
      mem:
        0x0000: |
          LDA #$80
          SBC #$81
          .byte $02
    check:
      a: 0xfe
      negative: true

  - desc: SBC no carry; b6 - 70 -> 45
    setup:
      mem:
        0x0000: |
          LDA #$b6
          SBC #$70
          .byte $02
    check:
      a: 0x45
      overflow: true
      carry: true

  - desc: SBC no carry; b6 - 90 -> 25
    setup:
      mem:
        0x0000: |
          LDA #$b6
          SBC #$90
          .byte $02
    check:
      a: 0x25
      carry: true

  - desc: SBC no carry; b6 - b7 -> fe
    setup:
      mem:
        0x0000: |
          LDA #$b6
          SBC #$b7
          .byte $02
    check:
      a: 0xfe
      negative: true

  - desc: SBC no carry; ff - fe -> 00
    setup:
      mem:
        0x0000: |
          LDA #$ff
          SBC #$fe
          .byte $02
    check:
      a: 0x00
      zero: true
      carry: true
